document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".final"),t=document.querySelector(".check-final"),n=document.querySelectorAll(".quiz-submit"),c=document.querySelectorAll(".quiz-content"),l=document.querySelectorAll('input[type="radio"]'),i=document.querySelectorAll(".quiz-error"),a=document.querySelector("#first-email"),d=document.querySelector("#second-email"),u=document.querySelector(".quiz-email-error");let s;const o=()=>{const e=document.querySelectorAll("input"),t={};e.forEach(e=>{"submit"!==e.type&&("radio"===e.type?e.checked&&(t[e.name]=e.id.startsWith("Yes")):t[e.name]=e.value)}),console.log(t),fetch("./posts.php",{method:"POST",body:t})},r=(l.forEach(e=>{e.addEventListener("click",function(){s=e.getAttribute("value")})}),n.forEach((e,r)=>{e.addEventListener("click",function(){const e=c[r].querySelectorAll(".input-text"),t=c[r].querySelectorAll("input[type='radio']");var n=0!==e.length&&Array.from(e).every(e=>""!==e.value.trim());let l=!1;if(n||t.forEach(e=>{e.checked&&!l&&(l=!0)}),n||!e.length&&!t.length||l){if(null!=s&&null!=s){const o=document.getElementById(""+s);return c[r].classList.add("d-none"),o.classList.remove("d-none"),void(s=null)}c[r].classList.add("d-none"),c[r+1].classList.remove("d-none"),i.forEach(e=>{e.style.display="none"})}else e.forEach(e=>{var t;e.classList.add("error"),"email"===e.type&&(e=a.value.trim(),t=d.value.trim(),(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e||t)||""===e)&&""===t||(u.innerHTML="Invalid email"))}),i.forEach(e=>{e.style.display="block"})})}),e.addEventListener("click",()=>{o()}),[]);l.forEach(e=>{"isQuestions"===e.name&&r.push(e)}),t.addEventListener("click",()=>{r.forEach(e=>{e.checked&&!e.id.startsWith("Yes")&&o()})})});