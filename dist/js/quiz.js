document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".final"),t=document.querySelector(".check-final"),n=document.querySelectorAll(".quiz-submit"),r=document.querySelectorAll(".quiz-content"),o=document.querySelectorAll('input[type="radio"]'),i=document.querySelectorAll(".quiz-error"),a=document.querySelector("#first-email"),d=document.querySelector("#second-email"),s=document.querySelector(".quiz-email-error");let u;const l=()=>{const e=document.querySelectorAll("input"),t={};e.forEach(e=>{"submit"!==e.type&&("radio"===e.type?e.checked&&(t[e.name]=e.id.startsWith("Yes")):t[e.name]=e.value)}),console.log(t),fetch("./posts.php",{method:"POST",body:t})},c=(o.forEach(e=>{e.addEventListener("click",function(){u=e.getAttribute("value")})}),n.forEach((e,c)=>{e.addEventListener("click",function(){const e=r[c].querySelectorAll(".input-text"),t=r[c].querySelectorAll("input[type='radio']");var n=0!==e.length&&Array.from(e).every(e=>""!==e.value.trim());let o=!1;if(n||t.forEach(e=>{e.checked&&!o&&(o=!0)}),console.log(n,o),n||!e.length&&!t.length||o){if(null!=u&&null!=u){const l=document.getElementById(""+u);return r[c].classList.add("d-none"),l.classList.remove("d-none"),void(u=null)}r[c].classList.add("d-none"),r[c+1].classList.remove("d-none"),i.forEach(e=>{e.style.display="none"})}else e.forEach(e=>{var t;e.classList.add("error"),"email"===e.type&&(e=a.value.trim(),t=d.value.trim(),(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e||t)||""===e)&&""===t||(s.innerHTML="Invalid email"))}),i.forEach(e=>{e.style.display="block"})})}),e.addEventListener("click",()=>{l()}),[]);o.forEach(e=>{"isQuestions"===e.name&&c.push(e)}),t.addEventListener("click",()=>{c.forEach(e=>{e.checked&&!e.id.startsWith("Yes")&&l()})})});